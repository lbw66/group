<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>拖拽</title>
    <style>
    *{
        padding: 0;
        margin: 0;

    }
    #box{
        width: 100px;
	height: 100px;
	background: #f00;
	cursor: pointer;
	position: absolute;
	left: 0;
	top: 0;
    }
    </style>
</head>
<body>
    <div id="box">

    </div>
    <script src="./jquery-1.11.3.min.js"></script>
    <script>
    $(function(){
        $("#box").mousedown(function(e) {
    // e.pageX
    var positionDiv = $(this).offset();
    var distenceX = e.pageX - positionDiv.left;
    var distenceY = e.pageY - positionDiv.top;
    //alert(distenceX)
    // alert(positionDiv.left);

    $(document).mousemove(function(e) {
        var x = e.pageX - distenceX;
        var y = e.pageY - distenceY;

        if (x < 0) {
            x = 0;
        } else if (x > $(document).width() - $("#box").outerWidth(true)) {
            x = $(document).width() - $("#box").outerWidth(true);
        }

        if (y < 0) {
            y = 0;
        } else if (y > $(document).height() - $("#box").outerHeight(true)) {
            y = $(document).height() - $("#box").outerHeight(true);
        }

        $("#box").css({
            'left': x + 'px',
            'top': y + 'px'
        });
    });

    $(document).mouseup(function() {
        $(document).off('mousemove');
    });
});
    })
    </script>
</body>
</html>